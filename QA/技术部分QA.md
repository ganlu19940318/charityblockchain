# 1. 系统实现

区块链上的每一个记录就是一个资产. 无论是稀有果实, 稀有种子还是用户记录.

## 1.1 用户注册

个人信息上链,  以poeid为查询主键, 数据库只保留poeid, 不保留其他任何信息.

## 1.2 用户登录

只是登录我们的系统, 并不涉及和链的交互.

## 1.3 机构创建慈善物品

由我们代理向区块链注册创建慈善物品, 机构也可以不依赖于我们向区块链进行注册, 在注册之后, 把信息导入到我们的系统即可. 创建慈善物品本质上就是创建两个资产. 机构在创建慈善物品之后会产生两个资产, 一个是种子资产, 一个是果实资产, 每一个种子资产和一个果实资产是一一对应的, 基于签名验证来匹配.

## 1.4 用户领取稀有种子

本质上就是资产的转移, 由机构创建的资产转移到了用户名下.

## 1.5 用户种菜

普通种子操作不上链, 普通种子有几率获取稀有果实, 稀有果实是由我们购买并转移给用户.

## 1.6 稀有种子

稀有果实由机构产生并转移给我们, 然后由我们转移给用户, 果实必须有种子对应, 而果实和种子必须由慈善机构创建, 而慈善机构的id是唯一的, 可监管.

## 1.7 排行榜

数据全部查数据库, 但是链上有同样的数据, 但是索引在我们这里管理.

## 1.8 化肥

只是平台的一种游戏玩法, 并不需要上链

## 1.9 果实合成

普通果实合成, 只是一种游戏玩法, 并不需要上链.

稀有果实合成, 需要用户输入自己的确认信息, 把果实资产转移到我们这边, 然后我们给用户生成兑换券.

# 2. 技术难点远景与特殊说明

果实与种子的对应关系如何实现?(果实如何证明种子是可以和它匹配的)

我们只是数据中台 + 界面展示

我们不具备数据写的权限, 只具备读的权限

在这个系统里面, 用户资产包括种子和果实, 种子和果实都是机构创建的, 由政府监管, 机构创建的每一笔交易都是可查的.

## 2.1 微服务架构

我们后台服务是基于微服务的架构, 除区块链以外的任意组件的横向扩展.

## 2.2 UA模型

# 3. 其他问题

## 3.1 双花问题

用户种子交易因为走的是我们平台, 所以基于平台来杜绝双花, 这是个中心化的问题. 所以可以解决, 但是我们说, 如果脱离平台交易, 是可能存在双花的.

## 3.2. 安全问题

用户的公私钥对在网络上裸奔, 目前是用的阿尔山的区块链模型, 他们提供的是这样子的, 但是这个东西, 是可以跟现有的公链思路一样, 只提供地址和签名证明即可.